<?xml version='1.1' encoding='UTF-8'?>
<project>
  <actions/>
  <description>Run tarballs from /work on Arty on epsilon node</description>
  <keepDependencies>false</keepDependencies>
  <properties>
    <hudson.plugins.jira.JiraProjectProperty plugin="jira@3.0.15"/>
    <com.chikli.hudson.plugin.naginator.NaginatorOptOutProperty plugin="naginator@1.18">
      <optOut>false</optOut>
    </com.chikli.hudson.plugin.naginator.NaginatorOptOutProperty>
    <hudson.plugins.throttleconcurrents.ThrottleJobProperty plugin="throttle-concurrents@2.0.2">
      <maxConcurrentPerNode>0</maxConcurrentPerNode>
      <maxConcurrentTotal>0</maxConcurrentTotal>
      <categories class="java.util.concurrent.CopyOnWriteArrayList"/>
      <throttleEnabled>false</throttleEnabled>
      <throttleOption>project</throttleOption>
      <limitOneJobWithMatchingParams>false</limitOneJobWithMatchingParams>
      <paramsToUseForLimit></paramsToUseForLimit>
      <configVersion>1</configVersion>
    </hudson.plugins.throttleconcurrents.ThrottleJobProperty>
    <jenkins.model.BuildDiscarderProperty>
      <strategy class="hudson.tasks.LogRotator">
        <daysToKeep>7</daysToKeep>
        <numToKeep>7</numToKeep>
        <artifactDaysToKeep>-1</artifactDaysToKeep>
        <artifactNumToKeep>-1</artifactNumToKeep>
      </strategy>
    </jenkins.model.BuildDiscarderProperty>
  </properties>
  <scm class="hudson.scm.NullSCM"/>
  <assignedNode>fpga-benchmark-regression</assignedNode>
  <canRoam>false</canRoam>
  <disabled>true</disabled>
  <blockBuildWhenDownstreamBuilding>false</blockBuildWhenDownstreamBuilding>
  <blockBuildWhenUpstreamBuilding>false</blockBuildWhenUpstreamBuilding>
  <triggers/>
  <concurrentBuild>false</concurrentBuild>
  <builders>
    <hudson.tasks.Shell>
      <command>hostname
env
pwd

export TARBALL_DEST_DIR=/work/pcs-daily/2020-05-11/Freedom-Metal/PCS-Koala/Arty-Tarball-Generation/

#Salloc for run on epsilon:

export TIMESTAMP=$(date +%m-%d-%y.%H.%M)
export DIRNAME=&quot;/scratch/jenkins/freedom-e-sdk-infra&quot;&apos;-&apos;&quot;$TIMESTAMP&quot;
git clone git@github.com:sifive/freedom-e-sdk-infra.git &quot;$DIRNAME&quot;

export PATH=$PATH:/sifive/tools/openocd/0.10.0-2019.08.2/bin
export PATH=$PATH:/sifive/tools/riscv-tools/riscv64-unknown-elf-gcc-8.3.0-2019.08.0-x86_64-linux-ubuntu14/bin

echo &quot;SALLOC to epsilon&quot;
echo $DIRNAME
/work/boardtest/salloc_copy.py --cpus-per-task 4 --time 4:0:0 --mem 1024 --ntasks 1 --partition boardtest --copy-to-include $DIRNAME --copy-back-include $DIRNAME --chdir $DIRNAME --exec_attempts 1 -- $DIRNAME/coreip-fpga-regression.bash --tar-path=$TARBALL_DEST_DIR/
find /scratch/jenkins/freedom-e-sdk-infra* -mtime +7 -type d -exec rm -rf {} \;
if find $DIRNAME -name results.txt -exec grep -r &apos;FAILED&apos; {} +
then
	exit 1
else
	exit 0
fi

</command>
    </hudson.tasks.Shell>
  </builders>
  <publishers/>
  <buildWrappers/>
</project>